{#
Copyright (C) 2025 Clément Latzarus

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, version 3.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
#}

{% extends "layout:admin.html.twig" %}

{% block title %}
  Ajouter un·e admin
{% endblock %}

{% block main %}
  <h2><span class="fa fa-user-plus"></span> Ajouter un·e admin</h2>

  <p class="alert alert-warning">
    <span class="fa fa-warning"></span>&nbsp;
    L’utilisateur·ice obtiendra tous les droits d’administration sur le site.
  </p>

  <p class="alert alert-info">
    <span class="fa fa-info-circle"></span>&nbsp;
    L’adresse e-mail doit correspondre à un compte utilisateur existant.
    Si ce n’est pas le cas, invitez le futur administrateur à créer au préalable
    un compte utilisateur et à vous communiquer l’adresse e-mail utilisée.
  </p>

  <form action="{{ path("admins_create") }}" method="post" class="form-inline">
    <label class="sr-only" for="inlineFormInputGroupUsername2">Adresse e-mail</label>
    <div class="input-group mb-2 mr-sm-2">
      <div class="input-group-prepend">
        <label class="input-group-text" for="user_email">Adresse e-mail</label>
      </div>

      <input type="email" id="user_email" class="form-control" name="user_email" placeholder="admin@paronymie.fr" list="user_emails" required>
      <datalist id="user_emails">
        {% for user in users %}
        <option value="{{ user.email }}">
          {% endfor %}
      </datalist>
    </div>

    <button type="submit" class="btn btn-primary mb-2">Ajouter un·e admin</button>
  </form>
{% endblock %}