<p><a href="{{ path('legacy_order', { url: order.url }) }}">Commande n° {{ order.id }}</a></p>
<h1>Paiement</h1>

<p class="alert alert-info">
  <i class="fa-solid fa-coins"></i>&nbsp;
  Montant à régler : {{ order.amount_tobepaid|currency(true)|raw }}.
</p>

<div class="card-group">

  {% if stripeIsAvailable %}
    <div class="card mb-3">
      <div class="card-header">
        <h5 class="radio mb-0">
          <i class="fa-solid fa-credit-card"></i>&nbsp;
          Carte bancaire
        </h5>
      </div>
      <div class="card-body">
        {% if order.amount_tobepaid < 50 %}
          <p class="alert alert-warning">
            <span class="fa-solid fa-triangle-exclamation"></span>&nbsp;
            Les commandes dont le montant total est inférieur à 0,50 €<br>
            ne peuvent être réglés par carte bancaire.
          </p>
        {% endif %}

        <p class="mb-0">
          Payez par carte bancaire via le serveur sécurisé de notre partenaire Stripe.
        </p>
      </div>
      <div class="card-footer">
        <form method="post"
        <input type="hidden" name="payment" value="stripe">
        <button type="submit" class="btn btn-primary"
          {% if order.amount_tobepaid < 50 %}disabled{% endif %}
        >Payer
        </button>
        </form>
      </div>
    </div>
  {% endif %}

  {% if payplugIsAvailable %}
    <div class="card mb-3">
      <div class="card-header">
        <h5 class="radio mb-0">
          <i class="fa-solid fa-credit-card"></i>&nbsp;
          Carte bancaire
        </h5>
      </div>
      <div class="card-body">

        {% if order.amount_tobepaid < 50 %}
          <p class="alert alert-warning">
            <span class="fa-solid fa-triangle-exclamation"></span>&nbsp;
            Les commandes dont le montant total est inférieur à 0,50 €<br>
            ne peuvent être réglés par carte bancaire.
          </p>
        {% endif %}

        <p class="mb-0">
          Payez par carte bancaire via le serveur sécurisé de notre partenaire PayPlug.
        </p>
      </div>
      <div class="card-footer">

        <form method="post">
          <input type="hidden" name="payment" value="payplug">
          <button type="submit" class="btn btn-primary"
            {% if order.amount_tobepaid < 50 %}disabled{% endif %}
          >Payer
          </button>
        </form>
      </div>
    </div>
  {% endif %}

  {% if paypalIsAvailable %}
    <div class="card mb-3">
      <div class="card-header">
        <h5 class="radio mb-0">
          <i class="fa-brands fa-paypal"></i>&nbsp;
          <label class="radio mb-0">Compte PayPal</label>
        </h5>
      </div>
      <div class="card-body">

        {% if order.amount_tobepaid < 100 %}
          <p class="alert alert-warning">
            <i class="fa-solid fa-triangle-exclamation"></i>&nbsp;
            Les commandes dont le montant total est inférieur à 1,00 €<br>
            ne peuvent être réglés par carte bancaire ou Paypal.
          </p>
        {% endif %}

        <p class="mb-0">
          Payez avec votre compte PayPal.
        </p>
      </div>
      <div class="card-footer">

        <form method="post">
          <input type="hidden" name="payment" value="paypal">
          <button type="submit" class="btn btn-primary"
            {% if order.amount_tobepaid < 100 %}disabled{% endif %}
          >Payer
          </button>
        </form>
      </div>
    </div>
  {% endif %}

  {% if transferIsAvailable %}
    <div class="card mb-3">
      <div class="card-header">
        <h5 class="radio mb-0">
          <i class="fa-solid fa-money-bill-transfer"></i>&nbsp;
          Virement

        </h5>
      </div>
      <div class="card-body">
        <p class="mb-0">
          Effectuez un virement vers notre compte.

          {% if orderWillBeShipped %}
            <br />Votre commande sera expédiée après apparition du virement sur notre relevé de compte.
          {% endif %}

          {% if orderWillBeCollected %}
            <br />Votre commande sera préparée après apparition du virement sur notre relevé de compte.
          {% endif %}
        </p>
      </div>
      <div class="card-footer">
        <form method="post">
          <input type="hidden" name="payment" value="transfer">
          <button type="submit" class="btn btn-primary">Payer</button>
        </form>
      </div>
    </div>
  {% endif %}

  {% if checkIsAvailable %}
    <div class="card mb-3">
      <div class="card-header">
        <h5 class="radio mb-0">
          <i class="fa-solid fa-money-check"></i>&nbsp;
          Chèque
        </h5>
      </div>
      <div class="card-body">
        <p class="mb-0">
          {% if orderWillBeShipped %}
            Envoyez un chèque. Votre commande sera expédiée après encaissement du chèque.
          {% endif %}

          {% if orderWillBeCollected %}
            Payez directement en magasin, au moment du retrait de votre commande, par chèque.
          {% endif %}
        </p>
      </div>
      <div class="card-footer">
        <form method="post">
          <input type="hidden" name="payment" value="check">
          <button type="submit" class="btn btn-primary">Payer</button>
        </form>
      </div>
    </div>
  {% endif %}
</div>