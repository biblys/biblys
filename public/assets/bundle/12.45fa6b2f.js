(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{DXbT:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a(o.key),o)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}n.r(t),n.d(t,"default",(function(){return l}));var l=i((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n="string"==typeof t?document.querySelector(t):t,o=n.getAttribute("data-entity_search"),r=n.closest("form").querySelector("button[type=submit]"),i=document.createElement("button");i.type="button",i.className="btn btn-outline-secondary",i.disabled=!0,i.textContent="Modifier";var a=document.createElement("input");a.type="hidden",a.name=o.toLowerCase()+"_id",n.insertAdjacentElement("afterend",a),n.insertAdjacentElement("afterend",i);var l=document.createElement("ul");l.className="entity-autocomplete-list list-group position-absolute",l.style.zIndex="1000",l.style.display="none",l.style.maxHeight="200px",l.style.overflowY="auto",l.style.top="39px",l.style.left="-135px",l.style.width=n.offsetWidth+"px",n.parentNode.appendChild(l),n.addEventListener("input",(function(){var e=n.value.trim();if(e.length<2)return l.innerHTML="",void(l.style.display="none");var t="/"+o.toLowerCase()+"s/";fetch(t+"?filter="+encodeURIComponent(e)).then((function(e){return e.json()})).then((function(e){l.innerHTML="",e.forEach((function(e){var t=document.createElement("li");t.className="list-group-item list-group-item-action",t.textContent=e.label,t.dataset.value=e.id,t.tabIndex=0,t.addEventListener("mousedown",(function(t){t.preventDefault(),u(e)})),l.appendChild(t)})),e.length>0?(l.style.display="",l.style.width=n.offsetWidth+"px"):l.style.display="none"}))}));var u=function(e){n.value=e.label,n.disabled=!0,a.value=e.id,i.disabled=!1,r.disabled=!1,l.innerHTML="",l.style.display="none"};n.addEventListener("keydown",(function(e){var t=l.querySelectorAll("li");if(t.length&&"none"!==l.style.display){var n=Array.from(t).findIndex((function(e){return e===document.activeElement}));"ArrowDown"===e.key?(e.preventDefault(),n<t.length-1?t[n+1].focus():t[0].focus()):"ArrowUp"===e.key?(e.preventDefault(),n>0?t[n-1].focus():t[t.length-1].focus()):"Enter"===e.key?document.activeElement.parentNode===l&&(e.preventDefault(),document.activeElement.dispatchEvent(new Event("mousedown"))):"Escape"===e.key&&(l.innerHTML="",l.style.display="none")}})),document.addEventListener("mousedown",(function(e){l.contains(e.target)||e.target===n||(l.innerHTML="",l.style.display="none")})),i.addEventListener("click",(function(){n.value="",n.disabled=!1,a.value="",i.disabled=!0,r.disabled=!0,n.focus()}))}))}}]);